<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="markusm"><meta name=description content="Eldiron v0.55 I started the month by adding a new 24x24 tile-map to the already existing 16x16 tile-map. The new tile-map has more details, both focus on Ultima 4 / 5 style tiles and are production quality. As always the tile-map is MIT licensed and the full source files can be downloaded here.
Next I started with player handling. Although Eldiron already has a quite powerful node system I mostly focused on NPC behavior (Non-Player-Characters) so far."><meta name=keywords content="rpg,creator,maker,game,ultima"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://eldiron.com/blog/development_blog_05_29_22/><title>Development Blog May :: Eldiron</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/main.4e5c639214707eff609bb55fe49e183dee42258a73bc90e4cc7b0a84f900798a.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="Development Blog May"><meta itemprop=description content="Eldiron v0.55 I started the month by adding a new 24x24 tile-map to the already existing 16x16 tile-map. The new tile-map has more details, both focus on Ultima 4 / 5 style tiles and are production quality. As always the tile-map is MIT licensed and the full source files can be downloaded here.
Next I started with player handling. Although Eldiron already has a quite powerful node system I mostly focused on NPC behavior (Non-Player-Characters) so far."><meta itemprop=datePublished content="2022-05-28T00:00:00+00:00"><meta itemprop=dateModified content="2022-05-28T00:00:00+00:00"><meta itemprop=wordCount content="751"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Development Blog May"><meta name=twitter:description content="Eldiron v0.55 I started the month by adding a new 24x24 tile-map to the already existing 16x16 tile-map. The new tile-map has more details, both focus on Ultima 4 / 5 style tiles and are production quality. As always the tile-map is MIT licensed and the full source files can be downloaded here.
Next I started with player handling. Although Eldiron already has a quite powerful node system I mostly focused on NPC behavior (Non-Player-Characters) so far."><meta property="article:published_time" content="2022-05-28 00:00:00 +0000 UTC"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>Eldiron</span>
<span class=logo__cursor style=background-color:#2a8be6></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/about>About</a></li><li><a href=https://github.com/markusmoenig/Eldiron>GitHub</a></li><li><a href=https://book.eldiron.com>Book</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info></p></div><article><h2 class=post-title><a href=https://eldiron.com/blog/development_blog_05_29_22/>Development Blog May</a></h2><figure class=post-cover><img src=https://eldiron.com/devblogmay2022.png alt="Development Blog May"></figure><div class=post-content><h4 id=eldiron-v055>Eldiron v0.55</h4><p>I started the month by adding a new 24x24 tile-map to the already existing 16x16 tile-map. The new tile-map has more details, both focus on Ultima 4 / 5 style tiles and are production quality. As always the tile-map is MIT licensed and the full source files can be downloaded <a href=https://github.com/markusmoenig/Eldiron-Assets>here</a>.</p><hr><p>Next I started with player handling. Although <strong>Eldiron</strong> already has a quite powerful node system I mostly focused on NPC behavior (Non-Player-Characters) so far. Reason being is that player based actions are quite simple to handle and NPC actions are more complex and thus i focused on these so far. Anyway, now you can walk with your player character in the game region via the Arrow Keys, only took me 5 months ðŸ˜….</p><p>In general, the player character is always named <em>Player</em> in the character view. I plan to make player handling as modular as possible, for example each command from a client executes the behavior tree of the same name in the <em>Player</em> character, allowing very easy integration of new commands in the client / server architecture.</p><hr><p>I had to take a step back in the editor architecture and refactored various UI elements to make them more modular. Spend more time on this than I wanted to, but as more functionality gets added to the editor I just wanted to make sure everything is as tidy as possible.</p><hr><p>Every parameter in a node is in fact a script, to set the movement speed for the <em>Pathfinder</em> node for example you can just enter a value of <em>8</em> (speed is between 1-10) or you can write a script and test if you are on horseback or in a marshland and adjust your speed accordingly.</p><p>The scripting subsystem of <strong>Eldiron</strong> is based on <a href=https://rhai.rs>Rhai</a>. I really like the syntax and flexibility of Rhai, however it is based on an AST and not on a bytecode interpreter like Lua for example. I worried that the speed may be an issue later, when <strong>Eldiron</strong> will potentially handle hundreds or thousands of characters. I was wondering if I should write my own bytecode interpreter for <strong>Eldiron</strong>, like Godot has with GDScript. I tested the speed of Rhai against Lua and found no significant difference, I guess the scripts for the nodes are small enough to not make a real difference. I mean we will not compute Ï€ in <strong>Eldiron</strong>. So I finally decided on sticking with Rhai and I can still invest a month or so later on to implement my own scripting language if the need should ever arise.</p><hr><p>One of the last parts in <strong>Eldiron</strong> I had to start implementing was the <em>Game logic</em> view. This is a special node graph where the visible screens (and their content) in a game are defined and in which order they are shown.</p><p>I decided to make each behavior tree a standalone screen. You can define the start tree in case you want to jump to specific content inside a game for debugging.</p><p>Each screen can contain widget nodes which are small script based areas (widgets) on your screen. You can draw game content, UI elements, texts, images and so on. All of this is still work in progress right now. The above screenshot gives you a first impression how things will look.</p><p>Later on users can optionally also implement UIs just with nodes (and without scripts), however I had to start somewhere and the script based solution is just the one faster to implement to get started.</p><hr><p>As writing scripts got more important I did spend a few days implementing a code editor, when you click on a script parameter it pops up from the bottom of the screen with a nice animation. So far the code editor is pretty basic and does for example not handle mouse based text selections or copy / paste yet but that will be easy to add.</p><hr><p>Phew, thats it for <strong>Eldiron</strong> for May. Quite a few big design decisions were made and the architecture of all major parts is being worked on (with the exception of the Items view).</p><p>I will execute on the <em>Game logic</em> and other parts of <strong>Eldiron</strong> more next month. My goal is to have a fully functional visual screen editor as soon as possible. Also the <a href=https://book.eldiron.com>book</a> will need quite a bit of work to reflect the documentation of the current status.</p><p>I also would like to thank my <a href=https://patreon.com/eldiron>Patreons</a>, thank you so much for your trust!</p><p>Until next month.</p></div></article><hr><div class=post-info></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>&copy; 2022</span>
<span>Markus Moenig</span>
<span><a href=https://eldiron.com/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div></footer></div><script type=text/javascript src=/bundle.min.feebdc8d801e3fb1791305e362b6d11557f029604dd5b3c27e2686bc88787ee90ae1ccf0afe81bd7d959d7617cfe1fc73062aa82b4e1fa830d6941193d2cbddf.js integrity="sha512-/uvcjYAeP7F5EwXjYrbRFVfwKWBN1bPCfiaGvIh4fukK4czwr+gb19lZ12F8/h/HMGKqgrTh+oMNaUEZPSy93w=="></script></body></html>